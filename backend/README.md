## API Reference

### Getting Started

## Error Handling

Errors are returned as JSON objects in the following format, with an example below for code error ``400``:


````python
    @app.errorhandler(400)
    def bad_request(error):
        return jsonify({
            "return_code":0,
            'error': <error description>,
        }), 400
````

The API will return the following error types when requests fail:
````python
400: Bad Request
401: Unauthorized
404: Resource Not Found
405: Method Not Allowed
500: Internal Server Error
````

## Endpoints (AUTHENTICATION)

###### NOTE:
All endpoints at this point require a **valid JWT** token generated by Authorisation.

#### POST ``/signup``
- General:
    - Used to signup a new user on the web app.
- Sample:
````json

{
    "first_name": "Peter",
    "last_name": "Parker",
    "email": "peter.parker@gmail.com",
    "date_of_birth": "2002-02-19",
    "password": "peter"
}
````
- Returns:
If user already exists in the database:
````json

{
    "return_code":0,
    "error": "User Already Exists"
}, 409 CONFLICT
````
If user does not exist in the database:
````json

{
    "return_code": 1,
    "access_token": "<JWT_TOKEN>",
    "id": 3,
    "name": "<FULL NAME OF USER>",
} 200 OK
````
If required parameters are missing:
````json

{
    "return_code":0,
    "error": "User Already Exists"
}, 409 CONFLICT

#### POST ``/login``
- General:
    - Used to log in the user with the given credentials.
- Sample:
````json

{
{
    "email": "peter.parker@gmail.com",
    "password": "peter"
}
}
````
- Returns:
If user credentials are correct:
````json

{
    "name": "Peter Parker",
    "id": 3,
    "return_code": 2,
    "session_token": "<JWT_TOKEN>"
}, 200 OK
````

If user credentials are NOT correct(EMAIL Incorrect):
````json

{
    "return_code":0,
    "error": "User Not found with the given Email"
}, 404 NOT FOUND
````

If user credentials are NOT correct(PASSWORD Incorrect):
````json

{
    "return_code":1,
    "error": "Incorrect password, please try again"
}, 401 Unauthorized
````



#### GET ``/logout``
- General:
    - Logouts authenticated user and unsets the JWT token.
- Authentication:
    - requires JWT token to be set.
- Returns:
If user is logged in.
````json
{
    "msg": "logout successful"
}, 200 OK
````
  
